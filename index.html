<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MiniJuegos</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body>
  <header>
    <h1 class="title" data-i18n="mainTitle">MiniJuegos</h1>
    <div class="language-selector">
      <img src="assets/es.svg" alt="ES" class="flag" data-lang="es" title="Español" />
      <img src="assets/cat.png" alt="CA" class="flag" data-lang="ca" title="Català" />
      <img src="assets/uk.png" alt="EN" class="flag" data-lang="en" title="English" />
    </div>
  </header>

  <main class="buttons">
    <a href="hitler/hitler.html" class="btn" data-i18n="optionHitlerRoles">Hitler Roles</a>
    <a href="hitler/hitler-tablero.html" class="btn" data-i18n="optionHitlerBoard">Hitler Tablero</a>
    <a href="yo-nunca-nunca/yo-nunca.html" class="btn" data-i18n="optionYoNunca">Yo Nunca Nunca</a>
    <a href="drink-and-dear/drink.html" class="btn" data-i18n="optionDrinkDear">Drink and Dear</a>
  </main>

  <footer class="footer">
    <div class="footer-content">
      <p>Creado por Aniol Jordán</p>
      <ul class="footer-links">
        <li><a href="https://www.linkedin.com/in/aniol-jord%C3%A1n-l%C3%B3pez-35854123a/" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
        <li><a href="https://www.instagram.com/aniol.dev" target="_blank"><i class="fab fa-instagram"></i> Instagram</a></li>
        <li><a href="https://github.com/Anioljordan" target="_blank"><i class="fab fa-github"></i> GitHub</a></li>
      </ul>
    </div>
  </footer>

  <script>
    const translations = {
      es: {
        mainTitle: "MiniJuegos",
        optionHitlerRoles: "Hitler Roles",
        optionHitlerBoard: "Hitler Tablero",
        optionYoNunca: "Yo Nunca Nunca",
        optionDrinkDear: "Drink and Dear"
      },
      ca: {
        mainTitle: "MiniJocs",
        optionHitlerRoles: "Hitler Rols",
        optionHitlerBoard: "Hitler Tauler",
        optionYoNunca: "Jo Mai Mai",
        optionDrinkDear: "Drink and Dear"
      },
      en: {
        mainTitle: "MiniGames",
        optionHitlerRoles: "Hitler Roles",
        optionHitlerBoard: "Hitler Board",
        optionYoNunca: "Never Have I Ever",
        optionDrinkDear: "Drink and Dear"
      }
    };

    function setLanguage(lang) {
      // Quita active de todas las banderas
      document.querySelectorAll(".language-selector .flag").forEach(f => f.classList.remove("active"));
      // Añade active a la seleccionada
      const selectedFlag = document.querySelector(`.language-selector .flag[data-lang="${lang}"]`);
      if (selectedFlag) selectedFlag.classList.add("active");
      // Cambia textos
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (translations[lang] && translations[lang][key]) {
          el.textContent = translations[lang][key];
        }
      });
    }

    // Evento para cambiar idioma al clicar la bandera
    document.querySelectorAll(".language-selector .flag").forEach(flag => {
      flag.addEventListener("click", () => setLanguage(flag.getAttribute("data-lang")));
    });

    // Detectar idioma por defecto y aplicar
    window.onload = () => {
      const defaultLang = 'ca'; // Catalán por defecto
      setLanguage(defaultLang);
    };
  </script>
</body>
</html>
